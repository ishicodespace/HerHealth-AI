/* =====================================================
   HerHealth Animations
   Micro-animations and transitions for smooth UX
   ===================================================== */

/* =====================================================
   1. KEYFRAME ANIMATIONS
   ===================================================== */

/* Fade In Up */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Fade In */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Fade Out */
@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

/* Slide In From Bottom */
@keyframes slideInUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Slide Out To Bottom */
@keyframes slideOutDown {
  from {
    transform: translateY(0);
    opacity: 1;
  }
  to {
    transform: translateY(100%);
    opacity: 0;
  }
}

/* Slide In From Right */
@keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Slide Out To Right */
@keyframes slideOutRight {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

/* Bounce */
@keyframes bounce {
  0%,
  80%,
  100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1);
  }
}

/* Pulse */
@keyframes pulse {
  0%,
  100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.8;
  }
}

/* Ripple */
@keyframes ripple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

/* Shake */
@keyframes shake {
  0%,
  100% {
    transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-5px);
  }
  20%,
  40%,
  60%,
  80% {
    transform: translateX(5px);
  }
}

/* Spin */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Scale Up */
@keyframes scaleUp {
  from {
    transform: scale(0.9);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* Float */
@keyframes float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

/* Progress Fill */
@keyframes progressFill {
  from {
    width: 0;
  }
  to {
    width: var(--fill-width, 100%);
  }
}

/* Ring Progress */
@keyframes ringProgress {
  from {
    stroke-dashoffset: 534;
  }
  to {
    stroke-dashoffset: var(--ring-offset, 200);
  }
}

/* Glow Pulse */
@keyframes glowPulse {
  0%,
  100% {
    box-shadow: 0 0 5px var(--color-primary-300);
  }
  50% {
    box-shadow: 0 0 20px var(--color-primary-400);
  }
}

/* Slide Indicator */
@keyframes slideIndicator {
  from {
    left: var(--from-left, 0);
    width: var(--from-width, 0);
  }
  to {
    left: var(--to-left, 0);
    width: var(--to-width, 0);
  }
}

/* =====================================================
   2. ANIMATION UTILITIES
   ===================================================== */

.animate-fade-in {
  animation: fadeIn 0.3s ease forwards;
}

.animate-fade-in-up {
  animation: fadeInUp 0.4s ease forwards;
}

.animate-slide-in-up {
  animation: slideInUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.animate-slide-out-down {
  animation: slideOutDown 0.3s ease forwards;
}

.animate-slide-in-right {
  animation: slideInRight 0.3s ease forwards;
}

.animate-slide-out-right {
  animation: slideOutRight 0.3s ease forwards;
}

.animate-scale-up {
  animation: scaleUp 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.animate-pulse {
  animation: pulse 2s infinite;
}

.animate-spin {
  animation: spin 1s linear infinite;
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-shake {
  animation: shake 0.5s ease;
}

/* =====================================================
   3. STAGGERED ANIMATIONS
   ===================================================== */

.stagger-animation > * {
  opacity: 0;
  animation: fadeInUp 0.4s ease forwards;
}

.stagger-animation > *:nth-child(1) {
  animation-delay: 0.05s;
}
.stagger-animation > *:nth-child(2) {
  animation-delay: 0.1s;
}
.stagger-animation > *:nth-child(3) {
  animation-delay: 0.15s;
}
.stagger-animation > *:nth-child(4) {
  animation-delay: 0.2s;
}
.stagger-animation > *:nth-child(5) {
  animation-delay: 0.25s;
}
.stagger-animation > *:nth-child(6) {
  animation-delay: 0.3s;
}
.stagger-animation > *:nth-child(7) {
  animation-delay: 0.35s;
}
.stagger-animation > *:nth-child(8) {
  animation-delay: 0.4s;
}

/* =====================================================
   4. TRANSITION CLASSES
   ===================================================== */

.transition-all {
  transition: all var(--transition-normal);
}

.transition-fast {
  transition: all var(--transition-fast);
}

.transition-slow {
  transition: all var(--transition-slow);
}

.transition-colors {
  transition: color var(--transition-fast),
    background-color var(--transition-fast), border-color var(--transition-fast);
}

.transition-transform {
  transition: transform var(--transition-fast);
}

.transition-opacity {
  transition: opacity var(--transition-fast);
}

/* =====================================================
   5. HOVER EFFECTS
   ===================================================== */

.hover-lift {
  transition: transform var(--transition-fast),
    box-shadow var(--transition-fast);
}

.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

.hover-scale {
  transition: transform var(--transition-fast);
}

.hover-scale:hover {
  transform: scale(1.02);
}

.hover-glow {
  transition: box-shadow var(--transition-fast);
}

.hover-glow:hover {
  box-shadow: 0 0 20px rgba(155, 107, 158, 0.3);
}

/* =====================================================
   6. TAP/ACTIVE EFFECTS
   ===================================================== */

.tap-shrink:active {
  transform: scale(0.95);
}

.tap-brighten:active {
  filter: brightness(0.9);
}

.ripple-effect {
  position: relative;
  overflow: hidden;
}

.ripple-effect::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 5px;
  height: 5px;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  transform: translate(-50%, -50%) scale(0);
  opacity: 0;
}

.ripple-effect:active::after {
  animation: ripple 0.6s ease-out;
}

/* =====================================================
   7. PAGE TRANSITIONS
   ===================================================== */

.page-enter {
  opacity: 0;
  transform: translateX(20px);
}

.page-enter-active {
  opacity: 1;
  transform: translateX(0);
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.page-exit {
  opacity: 1;
  transform: translateX(0);
}

.page-exit-active {
  opacity: 0;
  transform: translateX(-20px);
  transition: opacity 0.3s ease, transform 0.3s ease;
}

/* =====================================================
   8. SKELETON LOADING
   ===================================================== */

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.skeleton {
  background: linear-gradient(
    90deg,
    var(--color-neutral-200) 0%,
    var(--color-neutral-100) 50%,
    var(--color-neutral-200) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: var(--radius-md);
}

.skeleton-text {
  height: 14px;
  margin-bottom: var(--space-2);
}

.skeleton-title {
  height: 20px;
  width: 60%;
  margin-bottom: var(--space-3);
}

.skeleton-avatar {
  width: 44px;
  height: 44px;
  border-radius: var(--radius-full);
}

.skeleton-card {
  height: 100px;
  border-radius: var(--radius-xl);
}

/* =====================================================
   9. PULL TO REFRESH
   ===================================================== */

.pull-to-refresh {
  position: absolute;
  top: -50px;
  left: 50%;
  transform: translateX(-50%);
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s, transform 0.3s;
}

.pull-to-refresh.pulling {
  opacity: 1;
  transform: translateX(-50%) translateY(50px);
}

.pull-to-refresh.refreshing .refresh-icon {
  animation: spin 1s linear infinite;
}

.refresh-icon {
  width: 24px;
  height: 24px;
  stroke: var(--color-primary-500);
}

/* =====================================================
   10. TOAST ANIMATIONS
   ===================================================== */

.toast {
  animation: slideInUp 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.toast.hiding {
  animation: slideOutDown 0.3s ease forwards;
}

/* =====================================================
   11. MODAL ANIMATIONS
   ===================================================== */

.modal-overlay {
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
}

.modal-overlay.active {
  opacity: 1;
  visibility: visible;
}

.modal-content {
  transform: translateY(100%);
  transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.modal-overlay.active .modal-content {
  transform: translateY(0);
}

/* =====================================================
   12. TAB INDICATOR ANIMATION
   ===================================================== */

.tab-indicator {
  transition: left 0.3s cubic-bezier(0.16, 1, 0.3, 1),
    width 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

/* =====================================================
   13. CHART ANIMATIONS
   ===================================================== */

.bar-fill {
  animation: progressFill 1s ease forwards;
}

.breakdown-fill {
  animation: progressFill 1s ease forwards;
  animation-delay: 0.3s;
}

.cycle-ring-progress {
  animation: ringProgress 1.5s ease forwards;
  animation-delay: 0.5s;
}

/* =====================================================
   14. REDUCED MOTION
   ===================================================== */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* =====================================================
   15. ADDITIONAL ANIMATIONS FOR NEW SCREENS
   ===================================================== */

/* Calendar day selection */
.calendar-day.selected {
  animation: pulse 0.5s ease;
  box-shadow: 0 0 0 2px var(--color-primary-500);
}

/* Goal card selection animation */
.goal-card.active {
  animation: selectBounce 0.3s ease;
}

@keyframes selectBounce {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
}

/* Ritual completion animation */
.ritual-card.completed .ritual-check {
  animation: checkmark 0.4s ease;
}

@keyframes checkmark {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}

/* Superfood card hover effect */
.superfood-card {
  transition: transform var(--transition-fast),
    box-shadow var(--transition-fast);
}

.superfood-card:active {
  transform: scale(0.95);
}

/* Herb card animation */
.herb-card {
  transition: transform var(--transition-fast);
}

.herb-card:active {
  transform: translateY(-2px);
}

/* Doctor card hover */
.doctor-card {
  transition: box-shadow var(--transition-fast),
    transform var(--transition-fast);
}

.doctor-card:active {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

/* Meal card swap animation */
.swap-btn:active {
  animation: rotate 0.5s ease;
}

@keyframes rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(180deg);
  }
}

/* Water fill animation */
.water-fill {
  transition: height 0.5s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Dosha bar fill animation */
.dosha-bar .bar-fill {
  animation: growWidth 1s ease forwards;
}

@keyframes growWidth {
  from {
    width: 0;
  }
}

/* Feature pill stagger animation */
.feature-pill {
  animation: fadeInUp 0.5s ease forwards;
  opacity: 0;
}

.feature-pill:nth-child(1) {
  animation-delay: 0.1s;
}
.feature-pill:nth-child(2) {
  animation-delay: 0.2s;
}
.feature-pill:nth-child(3) {
  animation-delay: 0.3s;
}
.feature-pill:nth-child(4) {
  animation-delay: 0.4s;
}

/* Remedy card stagger */
.remedy-card {
  animation: fadeInUp 0.4s ease forwards;
  opacity: 0;
}

.remedy-card:nth-child(1) {
  animation-delay: 0.1s;
}
.remedy-card:nth-child(2) {
  animation-delay: 0.2s;
}
.remedy-card:nth-child(3) {
  animation-delay: 0.3s;
}
.remedy-card:nth-child(4) {
  animation-delay: 0.4s;
}

/* Diet type card selection */
.diet-type-card {
  transition: all var(--transition-fast);
}

.diet-type-card.active {
  animation: selectBounce 0.3s ease;
}

/* Condition/Cuisine chip animation */
.condition-chip.active,
.cuisine-chip.active {
  animation: chipSelect 0.2s ease;
}

@keyframes chipSelect {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
  }
}

/* Calendar day phase indicators */
.calendar-day::after {
  content: "";
  position: absolute;
  bottom: 2px;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  opacity: 0;
  transition: opacity var(--transition-fast);
}

/* Prediction card slide in */
.prediction-card {
  animation: slideInRight 0.4s ease forwards;
  opacity: 0;
}

.prediction-card:nth-child(1) {
  animation-delay: 0.1s;
}
.prediction-card:nth-child(2) {
  animation-delay: 0.2s;
}
